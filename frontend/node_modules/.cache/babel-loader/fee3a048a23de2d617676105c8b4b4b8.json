{"ast":null,"code":"var _jsxFileName = \"/home/lukas/projects/gbtest/frontend/src/App.js\";\nimport React from 'react';\nimport { Route, Link, BrowserRouter as Router, Redirect } from 'react-router-dom';\nimport Dashbord from './pages/dashboard/dashboard';\nimport Login from './pages/login/login';\nimport Register from './pages/register/register';\nimport api from './api/api';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authed: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      component: Login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      component: Register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      authed: this.state.authed,\n      path: \"/\",\n      component: Dashbord,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nasync function isAuthenticated() {\n  const {\n    data\n  } = await api.get(\"user/validsession\");\n  return data;\n}\n\nconst PrivateRoute = async ({\n  component: Component,\n  ...rest\n}) => /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n  render: props => isAuthenticated() ? /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  })) : /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 3\n  }\n}));\n\nexport default App;","map":{"version":3,"sources":["/home/lukas/projects/gbtest/frontend/src/App.js"],"names":["React","Route","Link","BrowserRouter","Router","Redirect","Dashbord","Login","Register","api","App","Component","constructor","props","state","authed","render","isAuthenticated","data","get","PrivateRoute","component","rest"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,IAAhB,EAAsBC,aAAa,IAAIC,MAAvC,EAA+CC,QAA/C,QAA+D,kBAA/D;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,GAAP,MAAgB,WAAhB;;AAEA,MAAMC,GAAN,SAAkBV,KAAK,CAACW,SAAxB,CAAkC;AAEhCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,MAAM,EAAE;AAAT,KAAb;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,SAAS,EAAET,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,WAAZ;AAAwB,MAAA,SAAS,EAAEC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,YAAD;AAAc,MAAA,MAAM,EAAE,KAAKM,KAAL,CAAWC,MAAjC;AAAyC,MAAA,IAAI,EAAC,GAA9C;AAAkD,MAAA,SAAS,EAAET,QAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF,CADF;AASD;;AAjB+B;;AAoBlC,eAAeW,eAAf,GAAiC;AAC/B,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAMT,GAAG,CAACU,GAAJ,CAAQ,mBAAR,CAAvB;AACA,SAAOD,IAAP;AACD;;AAED,MAAME,YAAY,GAAG,OAAO;AAAEC,EAAAA,SAAS,EAAEV,SAAb;AAAwB,KAAGW;AAA3B,CAAP,kBACnB,oBAAC,KAAD,oBAAWA,IAAX;AAAiB,EAAA,MAAM,EAAGT,KAAD,IACvBI,eAAe,kBACX,oBAAC,SAAD,oBAAeJ,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADW,gBAEX,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADF;;AAQA,eAAeH,GAAf","sourcesContent":["import React from 'react';\nimport { Route, Link, BrowserRouter as Router, Redirect } from 'react-router-dom'\nimport Dashbord from './pages/dashboard/dashboard';\nimport Login from './pages/login/login';\nimport Register from './pages/register/register';\nimport api from './api/api';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {authed: false};\n  }\n\n  render() {\n    return (\n      <div>\n        <Router>\n          <Route path=\"/login\" component={Login}/>\n          <Route path=\"/register\" component={Register}></Route>\n          <PrivateRoute authed={this.state.authed} path=\"/\" component={Dashbord}/>\n        </Router>\n      </div>\n    );\n  }\n}\n\nasync function isAuthenticated() {\n  const { data } = await api.get(\"user/validsession\");\n  return data;\n}\n\nconst PrivateRoute = async ({ component: Component, ...rest }) => (\n  <Route {...rest} render={(props) => (\n    isAuthenticated()\n      ? <Component {...props} />\n      : <Redirect to='/login' />\n  )} />\n)\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}